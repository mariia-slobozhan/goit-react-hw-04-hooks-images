(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{14:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__3n6f7",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__10PbA"}},15:function(e,t,a){e.exports={overlay:"Modal_overlay__24vm-",modal:"Modal_modal__pcJ5t"}},27:function(e,t,a){e.exports={loader:"Loader_loader__2n_qc"}},28:function(e,t,a){e.exports={button:"Button_button__3vEKR"}},29:function(e,t,a){e.exports={imageGallery:"ImageGallery_imageGallery__1ecsi"}},35:function(e,t,a){},57:function(e,t,a){},6:function(e,t,a){e.exports={searchbar:"SearchBar_searchbar__1B_PM",searchForm:"SearchBar_searchForm__s4Bm7",searchFormButton:"SearchBar_searchFormButton__2s7EA",searchFormButtonLabel:"SearchBar_searchFormButtonLabel__3bq21",searchFormInput:"SearchBar_searchFormInput__2SR8V"}},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c),s=(a(35),a(16)),i=a(4),l=a(11),u=(a(17),a(26)),m=a.n(u),j=a(27),d=a.n(j),b=a(1);function h(){return Object(b.jsx)("div",{className:d.a.loader,children:Object(b.jsx)(m.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})})}a(57);var f=a(13),O=a.n(f);var g=a(30),p=a(6),_=a.n(p);function x(e){var t=e.handleFormSubmit,a=Object(n.useState)(""),r=Object(i.a)(a,2),c=r[0],o=r[1],s=Object(n.useCallback)((function(e){o(e.currentTarget.value.toLowerCase())}),[]),u=Object(n.useCallback)((function(e){e.preventDefault(),""!==c.trim()?(t(c),o("")):l.b.warn("Type some request word")}),[t,c]);return Object(b.jsx)("header",{className:_.a.searchbar,children:Object(b.jsxs)("form",{className:_.a.searchForm,onSubmit:u,children:[Object(b.jsx)("button",{type:"submit",className:_.a.searchFormButton,children:Object(b.jsx)("span",{className:_.a.searchFormButtonLabel,children:Object(b.jsx)(g.a,{})})}),Object(b.jsx)("input",{className:_.a.searchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"query",value:c,onChange:s})]})})}var v=a(14),y=a.n(v);function F(e){var t=e.images,a=e.handleOpenPicture;return Object(b.jsx)(b.Fragment,{children:t.map((function(e){return Object(b.jsx)("li",{className:y.a.imageGalleryItem,children:Object(b.jsx)("img",{src:e.webformatURL,alt:e.tags,className:y.a.imageGalleryItemImage,onClick:function(){return a(e)}})},e.id)}))})}var I=a(28),w=a.n(I);function B(e){var t=e.onClick;return Object(b.jsx)("button",{onClick:t,type:"button",className:w.a.button,children:"Load more"})}var S=a(29),C=a.n(S);function k(e){var t=e.images,a=e.handleOpenPicture,n=e.onBtnClick;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("ul",{className:C.a.imageGallery,children:Object(b.jsx)(F,{images:t,handleOpenPicture:a})}),Object(b.jsx)(B,{onClick:n})]})}var N=a(15),G=a.n(N),E=document.getElementById("modal-root");function L(e){var t=e.image,a=e.onClose;function r(e){"Escape"===e.code&&a()}Object(n.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));return Object(c.createPortal)(Object(b.jsx)("div",{onClick:function(e){e.currentTarget===e.target&&a()},className:G.a.overlay,children:Object(b.jsx)("div",{className:G.a.modal,children:Object(b.jsx)("img",{src:t.largeImageURL,alt:t.tags})})}),E)}function q(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)([]),o=Object(i.a)(c,2),u=o[0],m=o[1],j=Object(n.useState)("idle"),d=Object(i.a)(j,2),f=d[0],g=d[1],p=Object(n.useState)(1),_=Object(i.a)(p,2),v=_[0],y=_[1],F=Object(n.useState)(!1),I=Object(i.a)(F,2),w=I[0],B=I[1],S=Object(n.useState)({}),C=Object(i.a)(S,2),N=C[0],G=C[1];Object(n.useEffect)((function(){""!==a&&(g("pending"),function(e,t){O.a.defaults.baseURL="https://pixabay.com/api/";var a="?key=".concat("23875883-62ec2e0d3177fc3e314277236","&q=").concat(e,"&per_page=12&image_type=photo&orientation=horizontal&page=").concat(t);return O.a.get(a).then((function(e){return 0===e.data.hits.length?Promise.reject(new Error("Can not find any photos for your request")):e})).catch((function(e){return e}))}(a,v).then((function(e){0===e.data.totalHits&&g("rejected"),m((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e.data.hits))})),g("resolved"),y((function(e){return e})),1!==v&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(){return g("rejected")})))}),[v,a]);return Object(b.jsxs)("div",{children:[Object(b.jsx)(l.a,{autoClose:3500}),Object(b.jsx)(x,{handleFormSubmit:function(e){r(e),y(1),m([])}}),"idle"===f&&Object(b.jsx)("div",{className:"error",children:"Type some request word"}),"rejected"===f&&Object(b.jsx)("div",{className:"error",children:"Can not find images for your request"}),"pending"===f&&Object(b.jsx)(h,{}),"resolved"===f&&Object(b.jsx)(k,{images:u,onBtnClick:function(){y((function(e){return e+1})),g("pending")},handleOpenPicture:function(e){G(e),B(!0)}}),w&&Object(b.jsx)(L,{onClose:function(){B((function(e){return!e}))},image:N})]})}o.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(q,{})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.c737ba54.chunk.js.map