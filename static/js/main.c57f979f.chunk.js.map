{"version":3,"sources":["ImageGalleryItem/ImageGalleryItem.module.css","Modal/Modal.module.css","Loader/Loader.module.css","Button/Button.module.css","ImageGallery/ImageGallery.module.css","Searchbar/SearchBar.module.css","Loader/Loader.js","Searchbar/Searchbar.js","ImageGalleryItem/ImageGalleryItem.js","Button/Button.js","ImageGallery/ImageGallery.js","Modal/Modal.js","App.js","services/pictureSearchAPI.js","index.js"],"names":["module","exports","ContentLoader","className","s","loader","type","color","height","width","Searchbar","handleFormSubmit","useState","query","setQuery","handleChange","useCallback","e","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","warn","searchbar","searchForm","onSubmit","searchFormButton","searchFormButtonLabel","searchFormInput","autoComplete","autoFocus","placeholder","name","onChange","ImageGalleryItem","images","handleOpenPicture","map","image","imageGalleryItem","src","webformatURL","alt","tags","imageGalleryItemImage","onClick","id","Button","button","ImageGallery","onBtnClick","imageGallery","modalRoot","document","getElementById","Modal","onClose","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","createPortal","target","overlay","modal","largeImageURL","App","setImages","status","setStatus","page","setPage","showModal","setShowModal","setImage","axios","defaults","baseURL","parameters","get","then","response","data","hits","length","Promise","reject","Error","catch","error","pictureSearchAPI","totalHits","prevState","setTimeout","scrollTo","top","documentElement","scrollHeight","behavior","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.c57f979f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__3n6f7\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__10PbA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__24vm-\",\"modal\":\"Modal_modal__pcJ5t\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__2n_qc\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3vEKR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1ecsi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"SearchBar_searchbar__1B_PM\",\"searchForm\":\"SearchBar_searchForm__s4Bm7\",\"searchFormButton\":\"SearchBar_searchFormButton__2s7EA\",\"searchFormButtonLabel\":\"SearchBar_searchFormButtonLabel__3bq21\",\"searchFormInput\":\"SearchBar_searchFormInput__2SR8V\"};","import Loader from \"react-loader-spinner\";\r\nimport s from \"./Loader.module.css\";\r\n\r\nexport default function ContentLoader() {\r\n  return (\r\n    <div className={s.loader}>\r\n      <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={80} width={80} />\r\n    </div>\r\n  );\r\n}\r\n","import { useState, useCallback } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { AiOutlineSearch } from \"react-icons/ai\";\nimport { toast } from \"react-toastify\";\nimport \"../../node_modules/react-toastify/dist/ReactToastify.css\";\nimport s from \"./SearchBar.module.css\";\n\nexport default function Searchbar({ handleFormSubmit }) {\n  const [query, setQuery] = useState(\"\");\n\n  const handleChange = useCallback((e) => {\n    setQuery(e.currentTarget.value.toLowerCase());\n  }, []);\n\n  const handleSubmit = useCallback(\n    (e) => {\n      e.preventDefault();\n      if (query.trim() === \"\") {\n        toast.warn(\"Type some request word\");\n        return;\n      }\n      handleFormSubmit(query);\n      setQuery(\"\");\n    },\n    [handleFormSubmit, query]\n  );\n\n  return (\n    <header className={s.searchbar}>\n      <form className={s.searchForm} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.searchFormButton}>\n          <span className={s.searchFormButtonLabel}>\n            <AiOutlineSearch />\n          </span>\n        </button>\n\n        <input\n          className={s.searchFormInput}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          name=\"query\"\n          value={query}\n          onChange={handleChange}\n        />\n      </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  handleFormSubmit: PropTypes.func,\n};\n","import s from \"./ImageGalleryItem.module.css\";\nimport PropTypes from \"prop-types\";\n\nexport default function ImageGalleryItem({ images, handleOpenPicture }) {\n  return (\n    <>\n      {images.map((image) => (\n        <li key={image.id} className={s.imageGalleryItem}>\n          <img\n            src={image.webformatURL}\n            alt={image.tags}\n            className={s.imageGalleryItemImage}\n            onClick={() => handleOpenPicture(image)}\n          />\n        </li>\n      ))}\n    </>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number,\n      webformatURL: PropTypes.string,\n      tags: PropTypes.string,\n    })\n  ),\n  handleOpenPicture: PropTypes.func,\n};\n","import PropTypes from \"prop-types\";\nimport s from \"./Button.module.css\";\n\nexport default function Button({ onClick }) {\n  return (\n    <button onClick={onClick} type=\"button\" className={s.button}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onBtnClick: PropTypes.func,\n};\n","import PropTypes from \"prop-types\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport Button from \"../Button/Button\";\nimport s from \"./ImageGallery.module.css\";\n\nexport default function ImageGallery({\n  images,\n  handleOpenPicture,\n  onBtnClick,\n}) {\n  return (\n    <>\n      <ul className={s.imageGallery}>\n        <ImageGalleryItem\n          images={images}\n          handleOpenPicture={handleOpenPicture}\n        />\n      </ul>\n      <Button onClick={onBtnClick} />\n    </>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array,\n  handleOpenPicture: PropTypes.func,\n  onBtnClick: PropTypes.func,\n};\n","import { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport PropTypes from \"prop-types\";\nimport s from \"./Modal.module.css\";\n\nconst modalRoot = document.getElementById(\"modal-root\");\n\nexport default function Modal({ image, onClose }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n\n    return () => {\n      window.removeEventListener(\"keydown\", handleKeyDown);\n    };\n  });\n\n  function handleKeyDown(e) {\n    if (e.code === \"Escape\") {\n      onClose();\n    }\n  }\n\n  const handleBackdropClick = (e) => {\n    if (e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return createPortal(\n    <div onClick={handleBackdropClick} className={s.overlay}>\n      <div className={s.modal}>\n        <img src={image.largeImageURL} alt={image.tags} />\n      </div>\n    </div>,\n    modalRoot\n  );\n}\n\nModal.propTypes = {\n  onClose: PropTypes.func,\n  image: PropTypes.object,\n};\n","import { useState, useEffect } from \"react\";\nimport { ToastContainer } from \"react-toastify\";\nimport \"../node_modules/react-toastify/dist/ReactToastify.css\";\nimport ContentLoader from \"./Loader/Loader\";\nimport \"./App.css\";\nimport pictureSearchAPI from \"./services/pictureSearchAPI\";\nimport Searchbar from \"./Searchbar/Searchbar\";\nimport ImageGallery from \"./ImageGallery/ImageGallery\";\nimport Modal from \"./Modal/Modal\";\n\nexport default function App() {\n  const [query, setQuery] = useState(\"\");\n  const [images, setImages] = useState([]);\n  const [status, setStatus] = useState(\"idle\");\n  const [page, setPage] = useState(1);\n  const [showModal, setShowModal] = useState(false);\n  const [image, setImage] = useState({});\n\n  useEffect(() => {\n    if (query === \"\") {\n      return;\n    }\n    setStatus(\"pending\");\n    pictureSearchAPI(query, page)\n      .then((images) => {\n        if (images.data.totalHits === 0) {\n          setStatus(\"rejected\");\n        }\n        setImages((prevState) => [...prevState, ...images.data.hits]);\n        setStatus(\"resolved\");\n        setPage((prevState) => prevState);\n      })\n      .catch(() => setStatus(\"rejected\"));\n  }, [page, query]);\n\n  useEffect(() => {\n    if (page !== 1) {\n      setTimeout(() => {\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: \"smooth\",\n        });\n      }, 500);\n    }\n  }, [page]);\n\n  const handleFormSubmit = (query) => {\n    setQuery(query);\n    setPage(1);\n    setImages([]);\n  };\n\n  const toggleModal = () => {\n    setShowModal((prevState) => !prevState);\n  };\n\n  const handleOpenPicture = (image) => {\n    setImage(image);\n    setShowModal(true);\n  };\n\n  const onBtnClick = () => {\n    setPage((prevState) => prevState + 1);\n    setStatus(\"pending\");\n  };\n\n  return (\n    <div>\n      <ToastContainer autoClose={3500} />\n      <Searchbar handleFormSubmit={handleFormSubmit} />\n      {status === \"idle\" && <div className=\"error\">Type some request word</div>}\n      {status === \"rejected\" && (\n        <div className=\"error\">Can not find images for your request</div>\n      )}\n      {status === \"pending\" && <ContentLoader />}\n      {status === \"resolved\" && (\n        <ImageGallery\n          images={images}\n          onBtnClick={onBtnClick}\n          handleOpenPicture={handleOpenPicture}\n        />\n      )}\n      {showModal && <Modal onClose={toggleModal} image={image} />}\n    </div>\n  );\n}\n","import axios from \"axios\";\r\n\r\nexport default function handleRequest(query, page) {\r\n  axios.defaults.baseURL = \"https://pixabay.com/api/\";\r\n  const key = \"23875883-62ec2e0d3177fc3e314277236\";\r\n  const parameters = `?key=${key}&q=${query}&per_page=12&image_type=photo&orientation=horizontal&page=${page}`;\r\n  return axios\r\n    .get(parameters)\r\n    .then((response) => {\r\n      if (response.data.hits.length === 0) {\r\n        return Promise.reject(\r\n          new Error(\"Can not find any photos for your request\")\r\n        );\r\n      }\r\n      return response;\r\n    })\r\n    .catch((error) => {\r\n      return error;\r\n    });\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}